{:title "Edit-Page", :option "{:document :html, :header nav-bar, :footer nil}", :body "                    <script src=\"//code.jquery.com/jquery-git.js\"></script>\r\n<style type=\"text/css\" media=\"screen\">\r\n    #editor {\r\n        margin: 0;\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n    }\r\n</style>\r\n  \r\n<form action=\"save\" method=\"post\">\r\n  {% csrf-field %}\r\n  <h3>Page Key : {{pagekey}}</h3><input type=\"hidden\" name=\"pagekey\" value=\"{{pagekey}}\"><br>\r\n  <h3>Title</h3><input type=\"text\" size=\"80%\" name=\"title\" value=\"{{title}}\">\r\n  <h3>Option</h3><input type=\"text\" size=\"80%\" name=\"option\" value=\"{{option}}\">\r\n  <h3>Body</h3>\r\n  <input type=\"submit\"><a href=\"/edit?pagekey=edit-page\">edit</a>\r\n  <textarea rows=\"25\" cols=\"80\" type=\"hidden\" data-editor=\"markdown\" name=\"body\" style=\"width:100%;height:100%;border:1;overflow:visible;text-overflow:ellipsis;\">{{body}}</textarea>\r\n</form>\r\n\r\n<script src=\"http://ajaxorg.github.io/ace-builds/src-min-noconflict/ace.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n\r\n<script>\r\n    // Hook up ACE editor to all textareas with data-editor attribute\r\n    $(function () {\r\n        $('textarea[data-editor]').each(function () {\r\n            var textarea = $(this);\r\n\r\n            var mode = textarea.data('editor');\r\n\r\n            var editDiv = $('<div>', {\r\n                position: 'absolute',\r\n                width: textarea.width(),\r\n                height: textarea.height(),\r\n                'class': textarea.attr('class')\r\n            }).insertBefore(textarea);\r\n\r\n            textarea.css('display', 'none');\r\n            var editor = ace.edit(editDiv[0]);\r\n            //editor.renderer.setShowGutter(false);\r\n            editor.getSession().setValue(textarea.val());\r\n            editor.getSession().setMode(\"ace/mode/\" + mode);\r\n            editor.setTheme(\"ace/theme/monokai\");\r\n            // copy back to textarea on form submit...\r\n            textarea.closest('form').submit(function () {\r\n                textarea.val(editor.getSession().getValue());\r\n            })\r\n        });\r\n    });\r\n</script>"}
